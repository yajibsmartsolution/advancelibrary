<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-Frame-Options" content="DENY">

  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Sa'adatu Rimi College - Editorial Dashboard</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>   
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"> 
<style>
  .btn-edit, .btn-delete {
    padding: 5px 10px;
    margin: 2px;
    cursor: pointer;
  }
  .btn-edit { background-color: #28a745; color: white; border: none; }
  .btn-delete { background-color: #dc3545; color: white; border: none; }
  table { width: 100%; border-collapse: collapse; margin-top: 10px; }
  th, td { border: 1px solid #ccc; padding: 8px; text-align: left; }
  th { background-color: #f2f2f2; }
</style>
  <style>
    /* ========== GLOBAL STYLES ========== */
    :root {
      --primary-green: #006400;
      --secondary-green: #004d00;
      --accent-green: #008000;
      --light-green: #e8f5e9;
      --text-dark: #333;
      --text-light: #f8f8f8;
      --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      --transition: all 0.3s ease;
    }
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f9f9f9;
      color: var(--text-dark);
      line-height: 1.6;
    }

    /* ========== HEADER STYLES ========== */
    .header-container {
      background: linear-gradient(135deg, var(--primary-green), var(--secondary-green));
      color: white;
      padding: 15px 0;
      box-shadow: var(--shadow);
      position: sticky;
      top: 0;
      z-index: 1000;
      width: 100%;
    }
    .header-content {
      display: flex;
      align-items: center;
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
    }
    .logo {
      height: 60px;
      width: auto;
      margin-right: 20px;
    }
    .header-text {
      flex-grow: 1;
    }
    .header-text h1 {
      margin: 0;
      font-size: 1.8rem;
      font-weight: 600;
    }
    .header-text p {
      margin: 5px 0 0;
      font-size: 0.9rem;
      opacity: 0.9;
    }
    .user-info {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .user-avatar {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background-color: var(--light-green);
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--primary-green);
      font-weight: bold;
    }

    /* ========== NAVIGATION STYLES ========== */
/* ========== NAVIGATION STYLES ========== */
.nav-container .nav-link {
  text-decoration: none;
  color: #ffffff; /* Could be white on a white background */
  background: none;
  border: none;
  cursor: pointer;
  font-size: inherit;
  font-family: inherit;
  font-weight: 500;
  border-radius: var(--border-radius);
  padding: 0.2rem 1rem;
  transition: all 0.3s ease;
}
nav {
  background-color: var(--secondary-green);
  box-shadow: var(--shadow);
  position: fixed;
  top: 85px; /* Height of header */
  left: 0;
  width: 100%;
  z-index: 999;
  padding: 10px 0;
}

.nav-container {
  max-width: 1200px;
  margin: 0 auto;
  display: flex;
  justify-content: flex-start;
  align-items: center;
}
    .dropdown {
      position: relative;
      cursor: pointer;
      padding: 15px 25px;
      color: white;
      transition: var(--transition);
      font-weight: 500;
    }
    .dropdown:hover,
    .dropdown.active {
      background-color: var(--accent-green);
    }
    .dropdown i {
      margin-right: 8px;
    }
    .dropdown-menu {
      display: none;
      position: absolute;
      top: 100%;
      left: 0;
      background-color: white;
      min-width: 220px;
      z-index: 100;
      box-shadow: var(--shadow);
      border-radius: 0 0 4px 4px;
      overflow: hidden;
    }
    .dropdown-menu a {
      color: var(--text-dark);
      padding: 12px 20px;
      text-decoration: none;
      display: flex;
      align-items: center;
      transition: var(--transition);
    }
    .dropdown-menu a:hover {
      background-color: var(--light-green);
      color: var(--primary-green);
    }
    .dropdown-menu i {
      width: 20px;
      margin-right: 10px;
      color: var(--primary-green);
    }
    .dropdown:hover .dropdown-menu,
    .dropdown.open .dropdown-menu {
      display: block;
    }

    /* ========== MAIN CONTENT LAYOUT ========== */
    .main-container {
      max-width: 1200px;
      margin: 30px auto;
      padding: 0 20px;
      display: grid;
      grid-template-columns: 250px 1fr;
      gap: 30px;
    }
    .sidebar {
      background-color: white;
      border-radius: 8px;
      box-shadow: var(--shadow);
      padding: 20px;
    }
    .sidebar-title {
      color: var(--primary-green);
      font-size: 1.2rem;
      margin-bottom: 20px;
      padding-bottom: 10px;
      border-bottom: 1px solid #eee;
    }
    .quick-links {
      display: flex;
      flex-direction: column;
      align-items: flex-start;
    }
    .quick-links a {
      display: flex;
      align-items: center;
      padding: 10px 0;
      color: var(--text-dark);
      text-decoration: none;
      transition: var(--transition);
      width: 100%;
    }
    .quick-links a:hover {
      color: var(--primary-green);
    }
    .quick-links i {
      margin-right: 10px;
      width: 20px;
      color: var(--primary-green);
    }
    .content {
      background-color: white;
      border-radius: 8px;
      box-shadow: var(--shadow);
      padding: 30px;
    }
    .section-title {
      color: var(--primary-green);
      margin-top: 0;
      margin-bottom: 25px;
      padding-bottom: 10px;
      border-bottom: 1px solid #eee;
    }

    /* ========== FORM STYLES ========== */
    .form-container {
      background: #fafafa;
      padding: 25px;
      border-radius: 8px;
      border: 1px solid #eee;
      margin-bottom: 30px;
      max-width: 100%;
    }
    .form-group {
      margin-bottom: 20px;
    }
    .form-row {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 20px;
    }
    label {
      display: block;
      margin-bottom: 8px;
      font-weight: 500;
      color: var(--text-dark);
    }
    input,
    textarea,
    select {
      width: 100%;
      padding: 12px;
      border: 1px solid #ddd;
      border-radius: 4px;
      font-family: inherit;
      transition: var(--transition);
    }
    input:focus,
    textarea:focus,
    select:focus {
      outline: none;
      border-color: var(--primary-green);
      box-shadow: 0 0 0 2px rgba(0, 100, 0, 0.1);
    }
    textarea {
      min-height: 120px;
      resize: vertical;
    }
    .btn {
      background-color: var(--primary-green);
      color: white;
      padding: 12px 25px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-weight: 500;
      transition: var(--transition);
    }
    .btn:hover {
      background-color: var(--secondary-green);
    }
    .btn i {
      margin-right: 8px;
    }
    .btn-secondary {
      background-color: #6c757d;
    }
    .btn-secondary:hover {
      background-color: #5a6268;
    }

.progress-container {
  width: 100%;
  background-color: #f3f3f3;
  border-radius: 4px;
  overflow: hidden;
  margin-top: 10px;
}

.progress-bar {
  height: 20px;
  width: 0%;
  background-color: var(--primary-green);
  color: white;
  font-size: 14px;
  text-align: center;
  line-height: 20px;
  transition: width 0.3s ease;
}

    /* ========== TABLE STYLES ========== */
   /* ========== TABLE STYLES ========== */
table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 20px;
  table-layout: fixed; /* This ensures columns respect the width */
}

th, td {
  padding: 12px;
  border-bottom: 1px solid #eee;
  word-wrap: break-word; /* Allows long words to break and wrap */
  overflow-wrap: break-word; /* Alternative property for word wrapping */
  max-width: 200px; /* Set a maximum width for cells */
}

th {
  background-color: var(--primary-green);
  color: white;
  text-align: left;
  position: sticky;
  top: 0;
}

tr:hover {
  background-color: var(--light-green);
}

/* Add ellipsis for very long content */
td {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Show full content on hover */
td:hover {
  white-space: normal;
  overflow: visible;
  text-overflow: clip;
}/* ========== TABLE STYLES ========== */
table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 20px;
  table-layout: fixed; /* This ensures columns respect the width */
}

th, td {
  padding: 12px;
  border-bottom: 1px solid #eee;
  word-wrap: break-word; /* Allows long words to break and wrap */
  overflow-wrap: break-word; /* Alternative property for word wrapping */
  max-width: 200px; /* Set a maximum width for cells */
}

th {
  background-color: var(--primary-green);
  color: white;
  text-align: left;
  position: sticky;
  top: 0;
}

tr:hover {
  background-color: var(--light-green);
}

/* Add ellipsis for very long content */
td {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Show full content on hover */
td:hover {
  white-space: normal;
  overflow: visible;
  text-overflow: clip;
  

  
}
td[contenteditable="true"] {
  white-space: normal;
  overflow: auto;
  min-height: 50px;
  max-height: 150px;
  resize: vertical; /* Allows vertical resizing */
}

td {
  position: relative;
}

td:hover::after {
  content: attr(title);
  position: absolute;
  left: 0;
  top: 100%;
  background: white;
  border: 1px solid #ccc;
  padding: 5px;
  z-index: 100;
  min-width: 200px;
  box-shadow: 0 0 5px rgba(0,0,0,0.2);
}
    /* ========== STATS CARD STYLES ========== */
    .stats-container {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 20px;
      margin-bottom: 30px;
    }
    .stat-card {
      background: white;
      border-radius: 8px;
      padding: 20px;
      box-shadow: var(--shadow);
      text-align: center;
    }
    .stat-icon {
      font-size: 2rem;
      color: var(--primary-green);
      margin-bottom: 10px;
    }
    .stat-value {
      font-size: 1.8rem;
      font-weight: 700;
      color: var(--primary-green);
      margin: 10px 0;
    }
    .stat-label {
      color: #666;
      font-size: 0.9rem;
    }

    /* ========== UTILITY CLASSES ========== */
    .full-width {
      grid-column: span 2;
    }
    .input-full {
      width: 100% !important;
    }
    .hidden {
      display: none;
    }
    .active-section {
      display: block;
    }

    /* File Upload Styles */
    .file-upload {
      border: 2px dashed #ccc;
      padding: 20px;
      text-align: center;
      border-radius: 6px;
      background: #f9f9f9;
      position: relative;
      cursor: pointer;
    }
    .file-upload:hover {
      background: #f0f0f0;
      border-color: var(--primary-green);
    }
    .file-upload input[type="file"] {
      position: absolute;
      opacity: 0;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
      z-index: 2;
      cursor: pointer;
    }
    .file-name {
      margin-top: 10px;
      font-size: 0.85rem;
      color: #555;
      background: #eef;
      border-left: 3px solid var(--primary-green);
      padding: 6px 10px;
      word-break: break-all;
    }
    .video-preview,
    .image-preview {
      margin-top: 20px;
      max-height: 300px;
      overflow: hidden;
      border-radius: 6px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
    .video-preview iframe,
    .video-preview video,
    .image-preview img {
      width: 100%;
      height: auto;
      display: block;
    }

    /* Footer */
    .footer {
      background: var(--primary-green);
      color: white;
      padding: 40px 20px;
      border-top: 4px solid var(--accent-green);
    }
    .footer-content {
      max-width: 1200px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 30px;
    }
    .footer-column h4 {
      margin-bottom: 15px;
      font-size: 1.1rem;
      color: var(--text-light);
    }
    .footer-column p,
    .footer-column a {
      color: var(--text-light);
      text-decoration: none;
      margin-bottom: 10px;
      display: block;
    }
    .footer-column a:hover {
      color: var(--accent-green);
    }
    .social-icons a {
      margin-right: 10px;
      color: var(--text-light);
      font-size: 1.2rem;
      transition: color 0.3s ease;
    }
    .social-icons a:hover {
      color: var(--accent-green);
    }
    .copyright {
      text-align: center;
      padding: 20px 0;
      background: var(--secondary-green);
      color: white;
      font-size: 0.9rem;
    }

    /* ========== RESPONSIVE STYLES ========== */
    @media (max-width: 992px) {
      .main-container {
        grid-template-columns: 1fr;
      }
      .form-row {
        grid-template-columns: 1fr;
      }
      .stats-container {
        grid-template-columns: repeat(2, 1fr);
      }
    }
    @media (max-width: 576px) {
      .stats-container {
        grid-template-columns: 1fr;
      }
      .header-content {
        flex-direction: column;
        text-align: center;
      }
      .logo {
        margin-right: 0;
        margin-bottom: 10px;
      }
      .nav-container {
        flex-wrap: wrap;
      }
      .dropdown {
        padding: 12px 15px;
      }
    }
  </style>
</head>
<body>

<!-- Header Section -->
<div class="header-container">
  <div class="header-content">
    <img src="download.jpg" alt="College Logo" class="logo" />
    <div class="header-text">
      <h1>Sa'adatu Rimi College of Education</h1>
      <p>Editorial Content Management System</p>
    </div>
    <div class="user-info">
      <div class="user-avatar">AD</div>
      <span>Admin Dashboard</span>
    </div>
  </div>
</div>

<!-- Navigation Menu -->
<nav>
  <div class="nav-container">
    <!-- Upload Dropdown -->
    <div class="dropdown" onclick="toggleDropdown(this)">
      <i class="fas fa-upload"></i> Upload
      <div class="dropdown-menu">
       <a href="index.html" class="nav-link" target="_blank">üè† Home</a>
        <a href="#" onclick="showSection('upload-ebook')"><i class="fas fa-book"></i> eBook</a>
        <a href="#" onclick="showSection('upload-users')"><i class="fas fa-users"></i> Users</a>
        <a href="#" onclick="showSection('upload-journal')"><i class="fas fa-newspaper"></i> Journal</a>
        <a href="#" onclick="showSection('upload-projects')"><i class="fas fa-project-diagram"></i> Student Projects</a>
        <a href="#" onclick="showSection('upload-Inlectures')"><i class="fas fa-chalkboard-teacher"></i> Internal Lectures</a>
        <a href="#" onclick="showSection('upload-Exlectures')"><i class="fas fa-chalkboard-teacher"></i> External lectures</a>
        <a href="#" onclick="showSection('upload-research')"><i class="fas fa-graduation-cap"></i> Research/Thesis</a>
        <a href="#" onclick="showSection('upload-community')"><i class="fas fa-users"></i> Community</a>
      </div>
    </div>
    <!-- Manage Dropdown -->
    <div class="dropdown" onclick="toggleDropdown(this)">
      <i class="fas fa-database"></i> Manage
      <div class="dropdown-menu">
        <a href="#" onclick="showSection('manage-ebook')"><i class="fas fa-book"></i> eBook</a>
        <a href="#" onclick="showSection('manage-users')"><i class="fas fa-users"></i> Users</a>
        <a href="#" onclick="showSection('manage-journal')"><i class="fas fa-newspaper"></i> Journal</a>
        <a href="#" onclick="showSection('manage-projects')"><i class="fas fa-project-diagram"></i> Student Projects</a>
        <a href="#" onclick="showSection('manage-Internal-lectures')"><i class="fas fa-chalkboard-teacher"></i> Internal Lectures</a>
        <a href="#" onclick="showSection('manage-External-lectures')"><i class="fas fa-chalkboard-teacher"></i> External Lectures</a>
        <a href="#" onclick="showSection('manage-research')"><i class="fas fa-graduation-cap"></i> Research/Thesis</a>
        <a href="#" onclick="showSection('manage-community')"><i class="fas fa-users"></i> Community</a>
      </div>
    </div>
    <!-- Analytics Dropdown -->
    <div class="dropdown" onclick="toggleDropdown(this)">
      <i class="fas fa-chart-line"></i> Analytics
      <div class="dropdown-menu">
        <a href="#" onclick="showSection('analytics-login')"><i class="fas fa-sign-in-alt"></i> User Login</a>
        <a href="#" onclick="showSection('analytics-signup')"><i class="fas fa-user-plus"></i> User Signup</a>
        <a href="#" onclick="showSection('analytics-visits')"><i class="fas fa-eye"></i> Page Visits</a>
      </div>
    </div>
    <!-- Reports Dropdown -->
    <div class="dropdown" onclick="toggleDropdown(this)">
      <i class="fas fa-file-alt"></i> Reports
      <div class="dropdown-menu">
        <a href="#" onclick="showSection('reports-daily')"><i class="fas fa-calendar-day"></i> Daily</a>
        <a href="#" onclick="showSection('reports-weekly')"><i class="fas fa-calendar-week"></i> Weekly</a>
        <a href="#" onclick="showSection('reports-monthly')"><i class="fas fa-calendar-alt"></i> Monthly</a>
      </div>
    </div>
  </div>
</nav>

<!-- Main Content Area -->
<div class="main-container">
  <!-- Sidebar -->
  <div class="sidebar">
    <h3 class="sidebar-title">Quick Actions</h3>
    <div class="quick-links">
      <a href="#" onclick="showSection('dashboard')"><i class="fas fa-tachometer-alt"></i> Dashboard</a>
      <a href="#" onclick="showSection('upload-ebook')"><i class="fas fa-book"></i> New eBook</a>
      <a href="#" onclick="showSection('upload-users')"><i class="fas fa-user-plus"></i> Add User</a>
      <a href="#" onclick="showSection('manage-research')"><i class="fas fa-graduation-cap"></i> Research Papers</a>
      <a href="#" onclick="showSection('analytics-visits')"><i class="fas fa-chart-pie"></i> View Analytics</a>
      <a href="#" onclick="showSection('settings')"><i class="fas fa-cog"></i> Settings</a>
    </div>
    <h3 class="sidebar-title" style="margin-top: 30px;">Recent Activity</h3>
    <div class="recent-activity">
      <div class="activity-item">
        <i class="fas fa-book activity-icon"></i>
        <div class="activity-text">
          <p>New eBook uploaded</p>
          <small>2 hours ago</small>
        </div>
      </div>
      <div class="activity-item">
        <i class="fas fa-user activity-icon"></i>
        <div class="activity-text">
          <p>User registered</p>
          <small>5 hours ago</small>
        </div>
      </div>
      <div class="activity-item">
        <i class="fas fa-file-alt activity-icon"></i>
        <div class="activity-text">
          <p>Research paper updated</p>
          <small>Yesterday</small>
        </div>
      </div>
    </div>
  </div>

  <!-- Dynamic Content Sections -->
  <div class="content">

    <!-- Dashboard Section -->
    <div id="dashboard" class="active-section">
      <h2 class="section-title">Dashboard Overview</h2>
      <div class="stats-container">
        <div class="stat-card">
          <div class="stat-icon"><i class="fas fa-book"></i></div>
          <div class="stat-value">1,245</div>
          <div class="stat-label">eBooks</div>
        </div>
        <div class="stat-card">
          <div class="stat-icon"><i class="fas fa-users"></i></div>
          <div class="stat-value">856</div>
          <div class="stat-label">Active Users</div>
        </div>
        <div class="stat-card">
          <div class="stat-icon"><i class="fas fa-graduation-cap"></i></div>
          <div class="stat-value">342</div>
          <div class="stat-label">Research Papers</div>
        </div>
        <div class="stat-card">
          <div class="stat-icon"><i class="fas fa-project-diagram"></i></div>
          <div class="stat-value">189</div>
          <div class="stat-label">Student Projects</div>
        </div>
      </div>
      <div class="form-container">
        <h3>Quick Upload</h3>
        <form id="quick-upload-form">
          <div class="form-group">
            <label for="quick-upload-type">Content Type</label>
            <select id="quick-upload-type" class="form-control">
              <option value="">Select content type</option>
              <option value="ebook">eBook</option>
              <option value="journal">Journal</option>
              <option value="research">Research Paper</option>
              <option value="project">Student Project</option>
            </select>
          </div>
          <div class="form-group">
            <label for="quick-upload-title">Title</label>
            <input type="text" id="quick-upload-title" placeholder="Enter title" />
          </div>
          <div class="form-group">
            <label for="quick-upload-file">File</label>
            <input type="file" id="quick-upload-file" />
          </div>
          <button type="submit" class="btn"><i class="fas fa-upload"></i> Upload</button>
        </form>
      </div>
    </div>

    <!-- Upload eBook Section -->

    <div id="upload-ebook" class="hidden">
      <h2 class="section-title">Upload eBook</h2>
      <div class="form-container">
        <form onsubmit="submitForm(event, 'ebook')">
          <div class="form-row">
            <div class="form-group">
              <label>Title</label>
              <input type="text" name="title" required class="form-control" />
            </div>
            <div class="form-group">
              <label>Author</label>
              <input type="text" name="author" required class="form-control" />
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label>Department</label>
              <select name="department" required class="form-control">
                <option value="">Select Department</option>
                <option value="Education">Education</option>
                <option value="Mathematics">Mathematics</option>
                <option value="English">English</option>
                <option value="Science">Science</option>
                <option value="Social Science">Social Science</option>
                <option value="Computer Science">Computer Science</option>
              </select>
            </div>
            <div class="form-group">
              <label>ISSN / ISBN</label>
              <input type="text" name="issn" class="form-control" />
            </div>
          </div>
          <div class="form-group">
            <label>Upload PDF</label>
            <div class="file-upload">
              <i class="fas fa-cloud-upload-alt upload-icon"></i>
              <p>Click or drag & drop here</p>
              <input type="file" accept=".pdf" required />
            </div>
            <div class="file-name" id="fileNameDisplay">No file selected</div>
          </div>
          <div class="form-group">
            <label>Description</label>
            <textarea rows="3" name="description" class="form-control"></textarea>
          </div>
          <button type="submit" class="btn"><i class="fas fa-upload"></i> Upload eBook</button>
          <div class="progress-container hidden">
            <div class="progress-bar" style="width: 0%;"></div>
          </div>  
          <div class="status-message hidden" id="statusMessage"></div>
        </form>
      </div>
    </div>

    <!-- Upload User -->
    <div id="upload-users" class="hidden">
   <h2 class="section-title">Register New User</h2>
      <div class="form-container">
        <form onsubmit="submitForm(event, 'user')">
          <div class="form-row">
            <div class="form-group">
              <label>Full Name</label>
              <input type="text" name="name" required class="form-control" />
            </div>
            <div class="form-group">
              <label>Phone Number</label>
              <input type="mobile" name="number" required class="form-control" />
            </div>
            <div class="form-group">
              <label>ID Number</label>
              <input type="text" name="id" required class="form-control" />
            </div>
            <div class="form-group">
              <label>Password</label>
              <input type="password" name="password" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{7,9}" title="7-9 characters, at least one lowercase, uppercase, and number" required class="form-control" />
            </div>
            <div class="form-group">
              <label>Confirm Password</label>
              <input type="password" name="confirm" required class="form-control" />
            </div>
            <div class="form-group">
              <label>Email</label>
              <input type="email" name="email" required class="form-control" placeholder="example@domain.com"/>
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label>User Role</label>
              <select name="role" required class="form-control">
                <option value="">Select Role</option>
                <option value="admin">Admin</option>
                <option value="editor">Editor</option>
                <option value="hod">HOD</option>
                <option value="Staff">Staff</option>
                <option value="student">Student</option>
                <option value="visitor">Visitor</option>
              </select>
            </div>
            <div class="form-group">
              <label>Department</label>
              <select name="department" required class="form-control">
                <option value="">Select Department</option>
                <option value="Education">Education</option>
                <option value="Mathematics">Mathematics</option>
                <option value="English">English</option>
                <option value="Science">Science</option>
                <option value="Social Science">Social Science</option>
                <option value="Computer Science">Computer Science</option>
              </select>
            </div>
            <div class="form-group">
              <label>Photo</label>
              <div class="file-upload">
                <input type="file" accept=".jpg,.png,.jpeg" required />
              </div>
              <div class="file-name" id="fileNameDisplay">No file selected</div>
            </div>
          </div>
          <button type="submit" class="btn"><i class="fas fa-user-plus"></i> Register & Send Confirmation</button>
          <div class="progress-container hidden">
       <div class="progress-bar"></div>
        </div>
          <div class="status-message" id="statusMessage" style="display:none;"></div>
        </form>
      </div>
    </div>

    <!-- Upload Journal -->
    <div id="upload-journal" class="hidden">
      <h2 class="section-title">Upload Journal</h2>
      <div class="form-container">
        <form onsubmit="submitForm(event, 'journal')">
          <div class="form-row">
            <div class="form-group">
              <label>Journal Title</label>
              <input type="text" name="title" required class="form-control" />
            </div>
            <div class="form-group">
              <label>Author(s)</label>
              <input type="text" name="author" required class="form-control" />
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label>Institution</label>
              <select name="institution" required class="form-control">
                <option value="">Select Institution</option>
                <option value="University">University</option>
                <option value="International">International</option>
              </select>
            </div>
            <div class="form-group">
              <label>Volume/Issue</label>
              <input type="text" name="volume_issue" placeholder="e.g. Vol. 1, No. 1" required class="form-control" />
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label>Year</label>
              <input type="number" name="year" min="1900" max="2100" step="1" required class="form-control" />
            </div>
            <div class="form-group">
              <label>Department</label>
              <input type="text" name="department" placeholder="e.g. Computer Science" required class="form-control" />
            </div>
          </div>
          <div class="form-group">
            <label>Upload Journal PDF</label>
            <div class="file-upload">
              <i class="fas fa-cloud-upload-alt upload-icon"></i>
              <p>Click or drag & drop here</p>
              <input type="file" accept=".pdf" required />
            </div>
            <div class="file-name" id="fileNameDisplay">No file selected</div>
          </div>
          <div class="form-group">
            <label>Abstract</label>
            <textarea rows="4" name="abstract" class="form-control"></textarea>
          </div>
          <button type="submit" class="btn"><i class="fas fa-upload"></i> Upload Journal</button>
           <div class="progress-container hidden">
            <div class="progress-bar"></div>
           </div>
          <div class="status-message hidden" id="statusMessage"></div>
        </form>
      </div>
    </div>


 <!-- Upload Student Projects Section -->
    <div id="upload-projects" class="hidden">
      <h2 class="section-title">Upload Student Project</h2>
      <div class="form-container">
        <form onsubmit="submitForm(event, 'projects')">
          <div class="form-row">
            <div class="form-group">
              <label>Project Title</label>
              <input type="text" name="title" required class="form-control" />
            </div>
            <div class="form-group">
              <label>Student Name</label>
              <input type="text" name="student_name" required class="form-control" />
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label>Student ID</label>
              <input type="text" name="student_id" required class="form-control" />
            </div>
            <div class="form-group">
              <label>Supervisor</label>
              <input type="text" name="supervisor" required class="form-control" />
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label>Academic Year</label>
              <input type="text" name="academic_year" required class="form-control" />
            </div>
            <div class="form-group">
              <label>Department</label>
              <select name="department" required class="form-control">
                <option value="">Select Department</option>
                <option value="Education">Education</option>
                <option value="Mathematics">Mathematics</option>
                <option value="English">English</option>
                <option value="Science">Science</option>
                <option value="Social Science">Social Science</option>
                <option value="Computer Science">Computer Science</option>
              </select>
            </div>
          </div>
          <div class="form-group">
            <label>Upload Project File</label>
            <div class="file-upload">
              <i class="fas fa-cloud-upload-alt upload-icon"></i>
              <p>Click or drag & drop here</p>
              <input type="file" accept=".pdf,.doc,.docx" required />
            </div>
            <div class="file-name" id="fileNameDisplay">No file selected</div>
          </div>
          <div class="form-group">
            <label>Project Abstract</label>
            <textarea rows="4" name="abstract" class="form-control"></textarea>
          </div>
          <button type="submit" class="btn"><i class="fas fa-upload"></i> Upload Project</button>
          <div class="progress-container hidden">
        <div class="progress-bar"></div>
        </div>
          <div class="status-message hidden" id="statusMessage"></div>
        </form>
      </div>
    </div>

    <!-- Upload Internal Lecture Section -->
    <div id="upload-Inlectures" class="hidden">
      <h2 class="section-title">Upload Internal Lecture</h2>
      <div class="form-container">
        <form onsubmit="submitForm(event, 'internal_lectures')">
          <div class="form-row">
            <div class="form-group">
              <label>Lecture Title</label>
              <input type="text" name="title" required class="form-control" />
            </div>
            <div class="form-group">
              <label>Instructor</label>
              <input type="text" name="instructor" required class="form-control" />
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label>Subject</label>
              <input type="text" name="subject" required class="form-control" />
            </div>
            <div class="form-group">
              <label>Department</label>
              <select name="department" required class="form-control">
                <option value="">Select Department</option>
                <option value="Education">Education</option>
                <option value="Mathematics">Mathematics</option>
                <option value="English">English</option>
                <option value="Science">Science</option>
                <option value="Social Science">Social Science</option>
                <option value="Computer Science">Computer Science</option>
              </select>
            </div>
          </div>
          <div class="form-group">
            <label>Upload Video</label>
            <div class="file-upload">
              <i class="fas fa-cloud-upload-alt upload-icon"></i>
              <p>Click or drag & drop here</p>
              <input type="file" accept="video/*" required />
            </div>
            <div class="file-name" id="fileNameDisplay">No file selected</div>
          </div>
          <video id="videoPreview" controls style="width:100%; max-height:400px; border-radius:8px; margin-top:10px;"></video>
          <div class="form-group">
            <label>Lecture Description</label>
            <textarea rows="3" name="description" class="form-control"></textarea>
          </div>
          <button type="submit" class="btn"><i class="fas fa-video"></i> Upload Lecture</button>
         <div class="progress-container hidden">
          <div class="progress-bar"></div>
           </div>
          <div class="status-message hidden" id="statusMessage"></div>
        </form>
      </div>
    </div>


   <!-- Upload External Lecture Section -->
<!-- Upload External Lecture Section -->
<div id="upload-Exlectures" class="hidden">
  <h2 class="section-title">Upload External Lecture</h2>
  <div class="form-container">
    <form onsubmit="submitForm(event, 'external_lecture')">
      <div class="form-row">
        <div class="form-group">
          <label>Lecture Title</label>
          <input type="text" name="title" required class="form-control" />
        </div>
        <div class="form-group">
          <label>Speaker</label>
          <input type="text" name="speaker" required class="form-control" />
        </div>
      </div>
      <div class="form-row">
        <div class="form-group">
          <label>Video URL (YouTube/Vimeo)</label>
          <input type="url" name="url" required class="form-control" />
        </div>
        <div class="form-group">
          <label>Department</label>
          <input type="text" name="department" required class="form-control" placeholder="e.g. Mathematics" />
        </div>
      </div>

      <!-- Video Preview -->
      <iframe class="video-preview-external" width="100%" height="400"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
              allowfullscreen
              frameborder="0"
              style="margin-top:10px; border-radius:8px;">
      </iframe>

      <!-- Progress & Status -->
      <button type="submit" class="btn"><i class="fas fa-link"></i> Save Lecture Link</button>

      <div class="progress-container hidden">
       <div class="progress-bar"></div>
       </div>
      <div class="status-message hidden" id="statusMessage"></div>
    </form>
  </div>
</div>

    <!-- Upload Research/Thesis Section -->
    <div id="upload-research" class="hidden">
      <h2 class="section-title">Upload Research/Thesis</h2>
      <div class="form-container">
        <form onsubmit="submitForm(event, 'research')">
          <div class="form-row">
            <div class="form-group">
              <label>Research Title</label>
              <input type="text" name="title" required class="form-control" />
            </div>
            <div class="form-group">
              <label>Author(s)</label>
              <input type="text" name="author" required class="form-control" />
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label>Supervisor</label>
              <input type="text" name="supervisor" class="form-control" />
            </div>
            <div class="form-group">
              <label>Publication Year</label>
              <input type="number" name="year" required class="form-control" />
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label>Department</label>
              <select name="department" required class="form-control">
                <option value="">Select Department</option>
                <option value="Education">Education</option>
                <option value="Mathematics">Mathematics</option>
                <option value="English">English</option>
                <option value="Science">Science</option>
                <option value="Social Science">Social Science</option>
                <option value="Computer Science">Computer Science</option>
              </select>
            </div>
            <div class="form-group">
              <label>Degree Level</label>
              <select name="degree_level" class="form-control">
                <option value="">Select Degree Level</option>
                <option value="Undergraduate">Undergraduate</option>
                <option value="Masters">Masters</option>
                <option value="PhD">PhD</option>
                <option value="Other">Other</option>
              </select>
            </div>
          </div>
          <div class="form-group">
            <label>Upload Research Document</label>
            <div class="file-upload">
              <i class="fas fa-cloud-upload-alt upload-icon"></i>
              <p>Click or drag & drop here</p>
              <input type="file" accept=".pdf,.doc,.docx" required />
            </div>
            <div class="file-name" id="fileNameDisplay">No file selected</div>
          </div>
          <div class="form-group">
            <label>Abstract</label>
            <textarea rows="4" name="abstract" class="form-control"></textarea>
          </div>
          <div class="form-group">
            <label>Keywords (comma separated)</label>
            <input type="text" name="keywords" class="form-control" />
          </div>
          <button type="submit" class="btn"><i class="fas fa-upload"></i> Upload Research</button>
          <div class="progress-container hidden">
          <div class="progress-bar"></div>
          </div> 
          <div class="status-message hidden" id="statusMessage"></div>
        </form>
      </div>
    </div>
    <!-- Upload Community Section -->
    <div id="upload-community" class="hidden">
      <h2 class="section-title">Upload Community Content</h2>
      <div class="form-container">
        <form onsubmit="submitForm(event, 'community')">
          <div class="form-row">
            <div class="form-group">
              <label>Content Title</label>
              <input type="text" name="title" required class="form-control" />
            </div>
            <div class="form-group">
              <label>Contributor</label>
              <input type="text" name="contributor" required class="form-control" />
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label>Content Type</label>
              <select name="content_type" required class="form-control">
                <option value="">Select Type</option>
                <option value="Article">Article</option>
                <option value="Video">Video</option>
                <option value="Podcast">Podcast</option>
                <option value="Discussion">Discussion</option>
                <option value="Other">Other</option>
              </select>
            </div>
            <div class="form-group">
              <label>Department</label>
              <select name="department" class="form-control">
                <option value="">Select Department (if applicable)</option>
                <option value="Education">Education</option>
                <option value="Mathematics">Mathematics</option>
                <option value="English">English</option>
                <option value="Science">Science</option>
                <option value="Social Science">Social Science</option>
                <option value="Computer Science">Computer Science</option>
                <option value="General">General</option>
              </select>
            </div>
          </div>
          <div class="form-group" id="community-file-upload">
            <label>Upload File</label>
            <div class="file-upload">
              <i class="fas fa-cloud-upload-alt upload-icon"></i>
              <p>Click or drag & drop here</p>
              <input type="file" id="community-file-input" />
            </div>
            <div class="file-name" id="fileNameDisplay">No file selected</div>
          </div>
          <div class="form-group" id="community-url-input" style="display:none;">
            <label>Content URL</label>
            <input type="url" name="content_url" class="form-control" />
          </div>
          <div class="form-group">
            <label>Description</label>
            <textarea rows="4" name="description" class="form-control"></textarea>
          </div>
          <button type="submit" class="btn"><i class="fas fa-upload"></i> Upload Content</button>
          <div class="progress-container hidden">
          <div class="progress-bar"></div>
          </div> 
          <div class="status-message hidden" id="statusMessage"></div>
        </form>
      </div>
    </div>

    <!-- Manage eBooks Section -->
    <div id="manage-ebook" class="hidden">
      <h2 class="section-title">Manage eBooks</h2>
      <div class="search-bar">
        <input type="text" placeholder="Search eBooks..." onkeyup="filterTable('ebook-table', this.value)" />
        <button class="btn-edit" onclick="saveChanges()">üíæ Save Changes</button>
      </div>
      <table id="ebook-table">
        <thead>
          <tr>
            <th><input type="checkbox" onclick="toggleAll(this)"> Select All</th>
            <th>Title</th>
            <th>Author</th>
            <th>Department</th>
            <th>Preview</th>
            <th>Last Modified</th>
            <th>Size</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>

    <!-- Manage Users Section -->
    <div id="manage-users" class="hidden">
      <h2 class="section-title">Manage Users</h2>
      <div class="search-bar">
        <input type="text" placeholder="Search Users..." onkeyup="filterTable('user-table', this.value)" />
        <button class="btn-edit" onclick="saveChanges()">üíæ Save Changes</button>
      </div>
      <table id="user-table">
        <thead>
          <tr>
            <th><input type="checkbox" onclick="toggleAll(this)"> Select All</th>
            <th>Name</th>
            <th>Phone</th>
            <th>ID Number</th>
            <th>Role</th>
            <th>Department</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>

    <!-- Manage Journals Section -->
    <div id="manage-journal" class="hidden">
      <h2 class="section-title">Manage Journals</h2>
      <div class="search-bar">
        <input type="text" placeholder="Search Journals..." onkeyup="filterTable('journal-table', this.value)" />
        <button class="btn-edit" onclick="saveChanges()">üíæ Save Changes</button>
      </div>
      <table id="journal-table">
        <thead>
          <tr>
            <th><input type="checkbox" onclick="toggleAll(this)"> Select All</th>
            <th>Title</th>
            <th>Author(s)</th>
            <th>Issue</th>
            <th>Date</th>
            <th>Preview</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>

    <!-- Manage Projects Section -->
    <div id="manage-projects" class="hidden">
      <h2 class="section-title">Manage Projects</h2>
      <div class="search-bar">
        <input type="text" placeholder="Search Projects..." onkeyup="filterTable('project-table', this.value)" />
        <button class="btn-edit" onclick="saveChanges()">üíæ Save Changes</button>
      </div>
      <table id="project-table">
        <thead>
          <tr>
            <th><input type="checkbox" onclick="toggleAll(this)"> Select All</th>
            <th>Title</th>
            <th>Student ID</th>
            <th>Supervisor</th>
            <th>Department</th>
            <th>Preview</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>

    <!-- Manage Internal Lectures Section -->
    <div id="manage-Internal-lectures" class="hidden">
      <h2 class="section-title">Manage Internal Lectures</h2>
      <div class="search-bar">
        <input type="text" placeholder="Search Internal Lectures..." onkeyup="filterTable('internal-lecture-table', this.value)" />
        <button class="btn-edit" onclick="saveChanges()">üíæ Save Changes</button>
      </div>
      <table id="internal-lecture-table">
        <thead>
          <tr>
            <th><input type="checkbox" onclick="toggleAll(this)"> Select All</th>
            <th>Title</th>
            <th>Instructor</th>
            <th>Department</th>
            <th>Preview</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>

    <!-- Manage External Lectures Section -->
    <div id="manage-External-lectures" class="hidden">
      <h2 class="section-title">Manage External Lectures</h2>
      <div class="search-bar">
        <input type="text" placeholder="Search External Lectures..." onkeyup="filterTable('external-lecture-table', this.value)" />
        <button class="btn-edit" onclick="saveChanges()">üíæ Save Changes</button>
      </div>
      <table id="external-lecture-table">
        <thead>
          <tr>
            <th><input type="checkbox" onclick="toggleAll(this)"> Select All</th>
            <th>Title</th>
            <th>Speaker</th>
            <th>Department</th>
            <th>Preview</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>

    <!-- Manage Research/Thesis Section -->
    <div id="manage-research" class="hidden">
      <h2 class="section-title">Manage Research/Thesis</h2>
      <div class="search-bar">
        <input type="text" placeholder="Search Research/Thesis..." onkeyup="filterTable('research-table', this.value)" />
        <button class="btn-edit" onclick="saveChanges()">üíæ Save Changes</button>
      </div>
      <table id="research-table">
        <thead>
          <tr>
            <th><input type="checkbox" onclick="toggleAll(this)"> Select All</th>
            <th>Title</th>
            <th>Author</th>
            <th>Supervisor</th>
            <th>Department</th>
            <th>Preview</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>

    <!-- Manage Community Section -->
    <div id="manage-community" class="hidden">
      <h2 class="section-title">Manage Community Content</h2>
      <div class="search-bar">
        <input type="text" placeholder="Search Community Content..." onkeyup="filterTable('community-table', this.value)" />
        <button class="btn-edit" onclick="saveChanges()">üíæ Save Changes</button>
      </div>
      <table id="community-table">
        <thead>
          <tr>
            <th><input type="checkbox" onclick="toggleAll(this)"> Select All</th>
            <th>Title</th>
            <th>Contributor</th>
            <th>Department</th>
            <th>Preview</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>

    <!-- Analytics Login Section -->
    <div id="analytics-login" class="hidden">
      <h2 class="section-title">User Login Analytics</h2>
      <div class="analytics-container">
        <div class="stats-container">
          <div class="stat-card">
            <div class="stat-icon"><i class="fas fa-sign-in-alt"></i></div>
            <div class="stat-value" id="login-count">0</div>
            <div class="stat-label">Total Logins</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon"><i class="fas fa-users"></i></div>
            <div class="stat-value" id="active-users">0</div>
            <div class="stat-label">Active Users</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon"><i class="fas fa-clock"></i></div>
            <div class="stat-value" id="avg-session">0m</div>
            <div class="stat-label">Avg Session</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon"><i class="fas fa-calendar-day"></i></div>
            <div class="stat-value" id="today-logins">0</div>
            <div class="stat-label">Today's Logins</div>
          </div>
        </div>
        
        <div class="chart-container">
          <canvas id="loginChart" height="300"></canvas>
        </div>
        
        <div class="table-container">
          <h3>Recent Login Activity</h3>
          <table id="login-activity-table">
            <thead>
              <tr>
                <th>User</th>
                <th>Time</th>
                <th>IP Address</th>
                <th>Device</th>
                <th>Status</th>
              </tr>
            </thead>
            <tbody>
              <!-- Will be populated by JavaScript -->
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <!-- Analytics Signup Section -->
    <div id="analytics-signup" class="hidden">
      <h2 class="section-title">User Signup Analytics</h2>
      <div class="analytics-container">
        <div class="stats-container">
          <div class="stat-card">
            <div class="stat-icon"><i class="fas fa-user-plus"></i></div>
            <div class="stat-value" id="total-signups">0</div>
            <div class="stat-label">Total Signups</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon"><i class="fas fa-calendar-week"></i></div>
            <div class="stat-value" id="weekly-signups">0</div>
            <div class="stat-label">This Week</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon"><i class="fas fa-user-graduate"></i></div>
            <div class="stat-value" id="student-signups">0</div>
            <div class="stat-label">Students</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon"><i class="fas fa-chalkboard-teacher"></i></div>
            <div class="stat-value" id="staff-signups">0</div>
            <div class="stat-label">Staff</div>
          </div>
        </div>
        
        <div class="chart-container">
          <canvas id="signupChart" height="300"></canvas>
        </div>
        
        <div class="table-container">
          <h3>Recent Signups</h3>
          <table id="signup-activity-table">
            <thead>
              <tr>
                <th>Name</th>
                <th>Email</th>
                <th>Role</th>
                <th>Department</th>
                <th>Date</th>
              </tr>
            </thead>
            <tbody>
              <!-- Will be populated by JavaScript -->
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <!-- Analytics Visits Section -->
    <div id="analytics-visits" class="hidden">
      <h2 class="section-title">Page Visit Analytics</h2>
      <div class="analytics-container">
        <div class="stats-container">
          <div class="stat-card">
            <div class="stat-icon"><i class="fas fa-eye"></i></div>
            <div class="stat-value" id="total-visits">0</div>
            <div class="stat-label">Total Visits</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon"><i class="fas fa-users"></i></div>
            <div class="stat-value" id="unique-visitors">0</div>
            <div class="stat-label">Unique Visitors</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon"><i class="fas fa-clock"></i></div>
            <div class="stat-value" id="avg-duration">0m</div>
            <div class="stat-label">Avg Duration</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon"><i class="fas fa-file-alt"></i></div>
            <div class="stat-value" id="popular-page">-</div>
            <div class="stat-label">Most Popular</div>
          </div>
        </div>
        
        <div class="chart-container">
          <canvas id="visitsChart" height="300"></canvas>
        </div>
        
        <div class="table-container">
          <h3>Top Pages</h3>
          <table id="top-pages-table">
            <thead>
              <tr>
                <th>Page</th>
                <th>Visits</th>
                <th>Unique Visitors</th>
                <th>Avg Time</th>
              </tr>
            </thead>
            <tbody>
              <!-- Will be populated by JavaScript -->
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <!-- Reports Daily Section -->
    <div id="reports-daily" class="hidden">
      <h2 class="section-title">Daily Reports</h2>
      <p>This section will show daily reports.</p>
    </div>

    <!-- Reports Weekly Section -->
    <div id="reports-weekly" class="hidden">
      <h2 class="section-title">Weekly Reports</h2>
      <p>This section will show weekly reports.</p>
    </div>

    <!-- Reports Monthly Section -->
    <div id="reports-monthly" class="hidden">
      <h2 class="section-title">Monthly Reports</h2>
      <p>This section will show monthly reports.</p>
    </div>

    <!-- Settings Section -->
    <div id="settings" class="hidden">
      <h2 class="section-title">System Settings</h2>
      <p>This section will contain system settings.</p>
    </div>

  </div>
</div>

<!-- Footer -->
<footer class="footer">
  <div class="footer-content">
    <div class="footer-column">
      <h4>About Us</h4>
      <p>Sa'adatu Rimi College of Education is committed to excellence in teaching, research, and community engagement.</p>
    </div>
    <div class="footer-column">
      <h4>Contact</h4>
      <p>Kano State, Nigeria<br>Email: info@src.edu.ng<br>Phone: +234 800 123 4567</p>
    </div>
    <div class="footer-column">
      <h4>Quick Links</h4>
      <a href="#">Home</a>
      <a href="#">About</a>
      <a href="#">Academics</a>
      <a href="#">Admissions</a>
      <a href="#">Contact</a>
    </div>
    <div class="footer-column">
      <h4>Follow Us</h4>
      <div class="social-icons">
        <a href="#"><i class="fab fa-facebook-f"></i></a>
        <a href="#"><i class="fab fa-twitter"></i></a>
        <a href="#"><i class="fab fa-linkedin-in"></i></a>
        <a href="#"><i class="fab fa-youtube"></i></a>
      </div>
    </div>
  </div>
  <div class="copyright">
    &copy; 2025 Sa'adatu Rimi College of Education. All rights reserved.
  </div>
</footer>

<!-- AWS SDK -->
<script src="https://sdk.amazonaws.com/js/aws-sdk-2.1040.0.min.js"></script> 

<!-- Chart.js for Analytics -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<!-- Global Config -->
<script>
  // Global Config -->
 // Configuration
const CONFIG = {
  accessKeyId: '0057c63aeb3c6120000000005', // Backblaze B2 keyID
  secretAccessKey: 'K005GW/h8vqZk1L0QGZL+zy58ltyq3c', // Backblaze B2 applicationKey
  region: 'us-east-005', // Backblaze B2 region
  bucketName: 'silverlink', // Your Backblaze B2 bucket
  endpoint: 'https://s3.us-east-005.backblazeb2.com', // Backblaze B2 S3 endpoint
  folderPaths: {
    books: 'ebooks/',
    journals: 'journals/',
    projects: 'student_projects/',
    'internal-videos': 'internal_lectures/',
    'external-videos': 'external_lectures/',
    thesis: 'research/thesis/',
    research: 'research/',
    community: 'community/'
  }
};

AWS.config.update({
  region: CONFIG.region,
  credentials: new AWS.Credentials(CONFIG.accessKeyId, CONFIG.secretAccessKey)
});

const s3 = new AWS.S3({
  endpoint: CONFIG.endpoint, // Add endpoint for Backblaze B2
  s3ForcePathStyle: true // Required for Backblaze B2
});

pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.12.313/pdf.worker.min.js';

// Data cache with separate storage for dynamic journals and static resources
const sectionDataCache = {
  books: [],
  journals: [],          // Dynamic journal content
  journalResources: [],   // Static journal resources
  projects: [],
  'internal-videos': [],
  'external-videos': [],
  thesis: [],
  research: [],
  community: []
};
const thumbnailCache = {};

  // Initialize analytics charts
  function initAnalyticsCharts() {
    // Login Chart
    const loginCtx = document.getElementById('loginChart').getContext('2d');
    const loginChart = new Chart(loginCtx, {
      type: 'line',
      data: {
        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul'],
        datasets: [{
          label: 'Daily Logins',
          data: [120, 190, 170, 220, 180, 210, 240],
          borderColor: '#006400',
          backgroundColor: 'rgba(0, 100, 0, 0.1)',
          tension: 0.3,
          fill: true
        }]
      },
      options: {
        responsive: true,
        plugins: {
          legend: {
            position: 'top',
          },
          title: {
            display: true,
            text: 'Login Activity (Last 7 Months)'
          }
        }
      }
    });

    // Signup Chart
    const signupCtx = document.getElementById('signupChart').getContext('2d');
    const signupChart = new Chart(signupCtx, {
      type: 'bar',
      data: {
        labels: ['Students', 'Staff', 'Faculty', 'Admin', 'Visitors'],
        datasets: [{
          label: 'Signups by Role',
          data: [320, 45, 28, 12, 15],
          backgroundColor: [
            'rgba(0, 100, 0, 0.7)',
            'rgba(0, 80, 0, 0.7)',
            'rgba(0, 120, 0, 0.7)',
            'rgba(0, 60, 0, 0.7)',
            'rgba(0, 140, 0, 0.7)'
          ],
          borderColor: [
            'rgba(0, 100, 0, 1)',
            'rgba(0, 80, 0, 1)',
            'rgba(0, 120, 0, 1)',
            'rgba(0, 60, 0, 1)',
            'rgba(0, 140, 0, 1)'
          ],
          borderWidth: 1
        }]
      },
      options: {
        responsive: true,
        plugins: {
          legend: {
            position: 'top',
          },
          title: {
            display: true,
            text: 'User Signups by Role'
          }
        }
      }
    });

    // Visits Chart
    const visitsCtx = document.getElementById('visitsChart').getContext('2d');
    const visitsChart = new Chart(visitsCtx, {
      type: 'doughnut',
      data: {
        labels: ['eBooks', 'Journals', 'Lectures', 'Research', 'Projects', 'Community'],
        datasets: [{
          data: [300, 50, 100, 80, 60, 40],
          backgroundColor: [
            'rgba(0, 100, 0, 0.7)',
            'rgba(0, 80, 0, 0.7)',
            'rgba(0, 120, 0, 0.7)',
            'rgba(0, 60, 0, 0.7)',
            'rgba(0, 140, 0, 0.7)',
            'rgba(0, 160, 0, 0.7)'
          ],
          borderColor: [
            'rgba(0, 100, 0, 1)',
            'rgba(0, 80, 0, 1)',
            'rgba(0, 120, 0, 1)',
            'rgba(0, 60, 0, 1)',
            'rgba(0, 140, 0, 1)',
            'rgba(0, 160, 0, 1)'
          ],
          borderWidth: 1
        }]
      },
      options: {
        responsive: true,
        plugins: {
          legend: {
            position: 'right',
          },
          title: {
            display: true,
            text: 'Page Visits by Content Type'
          }
        }
      }
    });

    // Populate analytics data
    document.getElementById('login-count').textContent = '1,245';
    document.getElementById('active-users').textContent = '856';
    document.getElementById('avg-session').textContent = '12m';
    document.getElementById('today-logins').textContent = '42';
    
    document.getElementById('total-signups').textContent = '420';
    document.getElementById('weekly-signups').textContent = '28';
    document.getElementById('student-signups').textContent = '320';
    document.getElementById('staff-signups').textContent = '45';
    
    document.getElementById('total-visits').textContent = '5,678';
    document.getElementById('unique-visitors').textContent = '2,345';
    document.getElementById('avg-duration').textContent = '8m';
    document.getElementById('popular-page').textContent = 'eBooks';

    // Populate tables with sample data
    const loginActivity = [
      { user: 'admin@src.edu.ng', time: '2025-06-14 09:30', ip: '192.168.1.1', device: 'Windows Chrome', status: 'Success' },
      { user: 'prof.yusuf@src.edu.ng', time: '2025-06-14 09:15', ip: '192.168.1.45', device: 'Mac Safari', status: 'Success' },
      { user: 'student123@src.edu.ng', time: '2025-06-14 08:50', ip: '192.168.2.10', device: 'Android Chrome', status: 'Failed' },
      { user: 'library@src.edu.ng', time: '2025-06-14 08:30', ip: '192.168.1.100', device: 'Windows Edge', status: 'Success' }
    ];

    const signupActivity = [
      { name: 'Amina Yusuf', email: 'ayusuf@src.edu.ng', role: 'Professor', department: 'Education', date: '2025-06-13' },
      { name: 'Mohammed Bello', email: 'mbello@src.edu.ng', role: 'Student', department: 'Computer Science', date: '2025-06-12' },
      { name: 'Fatima Ahmed', email: 'fahmed@src.edu.ng', role: 'Librarian', department: 'Library', date: '2025-06-10' },
      { name: 'Yusuf Adamu', email: 'yadamu@src.edu.ng', role: 'Student', department: 'Mathematics', date: '2025-06-08' }
    ];

    const topPages = [
      { page: '/ebooks', visits: 1250, unique: 856, time: '10m' },
      { page: '/journals', visits: 890, unique: 620, time: '8m' },
      { page: '/lectures', visits: 750, unique: 580, time: '12m' },
      { page: '/research', visits: 680, unique: 450, time: '15m' }
    ];

    populateAnalyticsTable('login-activity-table', loginActivity);
    populateAnalyticsTable('signup-activity-table', signupActivity);
    populateAnalyticsTable('top-pages-table', topPages);
  }

  function populateAnalyticsTable(tableId, data) {
    const table = document.getElementById(tableId).getElementsByTagName('tbody')[0];
    table.innerHTML = '';
    
    data.forEach(item => {
      const row = table.insertRow();
      Object.values(item).forEach(value => {
        const cell = row.insertCell();
        cell.textContent = value;
      });
    });
  }

  // Sanitize file names to remove numbers, underscores, special chars, and extra dashes
  function sanitizeFileName(str) {
    return str.replace(/[^a-zA-Z\s-]/g, '')         // Remove non-alphabet characters
             .replace(/\s+/g, '-')                 // Replace spaces with -
             .replace(/_+/g, '-')                  // Replace underscores with -
             .replace(/-+/g, '-')                  // Collapse multiple dashes
             .replace(/(^-|-$)/g, '')              // Trim leading/trailing dashes
             .toLowerCase();
  }

  // Main Form Submission Handler
  function submitForm(event, formType) {
    event.preventDefault();
    const formData = new FormData(event.target);
    const data = {};
    formData.forEach((value, key) => data[key] = value.trim());

    const folderKeyMap = {
      "external_lecture": "external_lectures",
      "internal_lecture": "internal_lectures"
    };
    const folderKey = folderKeyMap[formType] || formType.replace(/\s+/g, '_').toLowerCase();
    const folderPath = CONFIG.folderPaths[folderKey];

    if (!folderPath) {
      alert("Invalid upload destination.");
      return;
    }

    let params;

    // Sanitize metadata safely
    const sanitizeMeta = str => encodeURIComponent(str.slice(0, 255)) || "";

    if (formType === 'external_lecture') {
      const lectureData = {
        title: data.title,
        speaker: data.speaker,
        department: data.department,
        url: data.url,
        date: new Date().toISOString()
      };

      const jsonBody = JSON.stringify(lectureData, null, 2);
      const cleanTitle = sanitizeFileName(data.title);
      const key = `${folderPath}/${cleanTitle}.json`;

      params = {
        Bucket: CONFIG.bucketName,
        Key: key,
        Body: jsonBody,
        ContentType: 'application/json',
        Metadata: {
          title: sanitizeMeta(data.title),
          speaker: sanitizeMeta(data.speaker),
          department: sanitizeMeta(data.department),
          url: sanitizeMeta(data.url),
          date: new Date().toISOString()
        }
      };

    } else {
      const fileInput = event.target.querySelector('input[type="file"]');
      const file = fileInput?.files[0];
      if (!file) {
        alert("Please select a file to upload.");
        return;
      }

      // Use the original file name exactly as provided by the user
    const originalFileName = file.name;
    const key = folderPath.endsWith('/')
  ? folderPath + originalFileName
  : `${folderPath}/${originalFileName}`;

      params = {
        Bucket: CONFIG.bucketName,
        Key: key,
        Body: file,
        ContentType: file.type || 'application/pdf',
        Metadata: {
          title: sanitizeMeta(data.title),
          author: sanitizeMeta(data.author || ''),
          department: sanitizeMeta(data.department || ''),
          date: new Date().toISOString()
        }
      };
    }

    const progressBar = event.target.querySelector('.progress-bar');
    const status = event.target.querySelector('.status-message');

    if (!progressBar || !status) {
      console.error("Progress bar or status message not found");
      return;
    }

    // Show progress bar
    progressBar.closest('.progress-container').classList.remove('hidden');
    progressBar.style.width = '0%';
    progressBar.textContent = '0%';

    const upload = S3.upload(params);

    upload.on('httpUploadProgress', function(progress) {
      const percent = Math.round((progress.loaded / progress.total) * 100);
      progressBar.style.width = percent + '%';
      progressBar.textContent = percent + '%';
    });

    upload.send(function(err, dataResult) {
      progressBar.closest('.progress-container').classList.add('hidden');

      if (err) {
        status.innerHTML = `‚ùå Upload failed: ${err.message}`;
        status.className = 'status-message error';
        status.classList.remove('hidden');
      } else {
        status.innerHTML = `
          ‚úÖ Upload successful!<br>
          <strong>File saved as:</strong> <a href="${dataResult.Location}" target="_blank">${params.Key}</a>
        `;
        status.className = 'status-message success';
        status.classList.remove('hidden');

        setTimeout(() => {
          event.target.reset();
          status.classList.add('hidden');
        }, 3000);
      }

      if (formType === 'external_lecture') {
        fetchS3Files(CONFIG.folderPaths.external_lectures, files => populateTable('external-lecture-table', files, 'external_lecture'));
      }
    });
  }

  // Preview Function
  function updatePreview(input, previewElementId) {
    const preview = document.getElementById(previewElementId);
    const file = input.files[0];
    if (!file) return;

    const reader = new FileReader();
    const fileType = file.type;

    reader.onload = function(e) {
      if (fileType.includes('image/')) {
        preview.innerHTML = `<img src="${e.target.result}" style="max-width:100%; max-height:300px;">`;
      } else if (fileType === 'application/pdf') {
        preview.innerHTML = `<iframe src="${e.target.result}" width="100%" height="400" style="border:none;"></iframe>`;
      } else {
        preview.innerHTML = `<p>Preview not available for this file type.</p>`;
      }
    };

    reader.readAsDataURL(file);
  }

  // Helper functions for tables
  window.saveChanges = function() {
    alert("Changes saved locally. Implement backend update logic.");
  };

  window.toggleAll = function(checkbox) {
    document.querySelectorAll('.select-row').forEach(cb => cb.checked = checkbox.checked);
  };

  window.filterTable = function(tableId, query) {
    const table = document.getElementById(tableId);
    const rows = table.tBodies[0].rows;
    for (let i = 0; i < rows.length; i++) {
      const row = rows[i];
      const cells = row.getElementsByTagName("td");
      let match = false;
      for (let j = 0; j < cells.length; j++) {
        const cellText = cells[j].innerText.toLowerCase();
        if (cellText.includes(query.toLowerCase())) {
          match = true;
          break;
        }
      }
      row.style.display = match ? '' : 'none';
    }
  };

  function truncateText(text, maxLength = 50) {
    return text.length > maxLength ? text.substring(0, maxLength) + '...' : text;
  }
</script>

</script>
<!-- Script for Preview -->
<script>
  function updatePreview(input, previewElementId) {
    const preview = document.getElementById(previewElementId);
    const file = input.files[0];
    if (!file) return;

    const reader = new FileReader();
    const fileType = file.type;

    reader.onload = function(e) {
      if (fileType.includes('image/')) {
        preview.innerHTML = `<img src="${e.target.result}" style="max-width:100%; max-height:300px;">`;
      } else if (fileType === 'application/pdf') {
        preview.innerHTML = `<iframe src="${e.target.result}" width="100%" height="400" style="border:none;"></iframe>`;
      } else {
        preview.innerHTML = `<p>Preview not available for this file type.</p>`;
      }
    };

    reader.readAsDataURL(file);
  }
  // Preview for internal videos
  document.addEventListener('change', function(e) {
    if (e.target && e.target.type === 'file' && e.target.accept === 'video/*') {
      const video = e.target.closest('form').querySelector('#videoPreview'); 
      if (e.target.files && e.target.files[0]) {
        const reader = new FileReader();
        reader.onload = function(e) {
          video.src = e.target.result;
          video.play();
        };
        reader.readAsDataURL(e.target.files[0]);
      }
    }
  });

  // Preview for external videos

// Preview for external videos

// Preview for external videos
document.addEventListener('input', function(e) {
  if (e.target && e.target.name === 'url') {
    const url = e.target.value;
    const iframe = e.target.closest('form').querySelector('.video-preview-external'); // Use class selector

    if (!iframe) return;

    if (url.includes('youtube.com') || url.includes('youtu.be')) {
      let videoId = url.split(/v=|youtu.be\//)[1]?.split(/[&?]/)[0];
      iframe.src = videoId ? `https://www.youtube.com/embed/${videoId}`  : '';
    } else if (url.includes('vimeo.com')) {
      const videoId = url.split('/').pop();
      iframe.src = videoId ? `https://player.vimeo.com/video/${videoId}`  : '';
    } else {
      iframe.src = '';
    }
  }
});

  // Handle file selection and preview
  document.addEventListener('change', function(e) {
    if (e.target && e.target.type === 'file') {
      const fileNameDiv = e.target.parentElement.nextElementSibling ||
                          e.target.nextSibling?.closest('.file-name');
      if (fileNameDiv) {
        fileNameDiv.textContent = e.target.files[0]?.name || 'No file selected';
      }
    }
  });
</script>

<!-- Script for Management Tables -->
<!-- Include AWS SDK before this script -->
<script src="https://sdk.amazonaws.com/js/aws-sdk-2.1684.0.min.js"></script> 

<script>
  // Function to fetch files from S3
  function fetchS3Files(folderPath, callback) {
    
    const params = { Bucket: CONFIG.bucketName, Prefix: folderPath };
    S3.listObjectsV2(params, function (err, data) {
      if (err) return console.error("Error fetching files:", err);
      const files = data.Contents.map(item => ({
        key: item.Key,
        lastModified: item.LastModified.toLocaleString(),
        size: `${(item.Size / 1024).toFixed(2)} KB`
      }));
      callback(files);
    });
  }

  // Utility: Get appropriate icon based on file extension
  function getFileIcon(fileName) {
    if (/\.(jpg|jpeg|png)$/i.test(fileName)) return `<i class="fas fa-file-image" style="font-size: 2rem;"></i>`;
    if (/\.pdf$/i.test(fileName)) return `<i class="fas fa-file-pdf" style="font-size: 2rem;"></i>`;
    if (/\.docx?$/i.test(fileName)) return `<i class="fas fa-file-word" style="font-size: 2rem;"></i>`;
    if (/\.xlsx?$/i.test(fileName)) return `<i class="fas fa-file-excel" style="font-size: 2rem;"></i>`;
    return `<i class="fas fa-file" style="font-size: 2rem;"></i>`;
  }

  // Function to populate table rows
  function populateTable(tableId, files, category) {
    const tbody = document.querySelector(`#${tableId} tbody`);
    tbody.innerHTML = "";

    if (!files.length) {
      tbody.innerHTML = `<tr><td colspan="7" style="text-align:center;">No files found</td></tr>`;
      return;
    }

    files.forEach(file => {
      const row = document.createElement("tr");
      const fileName = file.key.split('/').pop();
      const isPDF = /\.pdf$/i.test(fileName);
      const previewUrl = `https://${CONFIG.bucketName}.s3.${CONFIG.region}.amazonaws.com/${encodeURIComponent(file.key)}`; 

      let columns = "";
      switch (category) {
        case 'user':
          columns = `
            <td contenteditable="true">${fileName.replace(/\.json$/, '')}</td>
            <td contenteditable="true">+234 800 000 0000</td>
            <td contenteditable="true">SRU2025EDU001</td>
            <td contenteditable="true">Editor</td>
            <td contenteditable="true">Education</td>`;
          break;
        case 'ebook':
        case 'journal':
          columns = `
            <td contenteditable="true">${fileName.replace(/\.pdf$/, '')}</td>
            <td contenteditable="true">Dr. Amina Yusuf</td>
            <td contenteditable="true">Vol. 5, Issue 2</td>
            <td contenteditable="true">2025-01-01</td>
            <td>${getFileIcon(fileName)}</td>`;
          break;
        case 'project':
          columns = `
            <td contenteditable="true">${fileName.replace(/\.pdf$/, '')}</td>
            <td contenteditable="true">SRU2025CS001</td>
            <td contenteditable="true">Prof. Bako</td>
            <td contenteditable="true">Computer Science</td>
            <td>${getFileIcon(fileName)}</td>`;
          break;
        case 'internal_lecture':
               columns = `
            <td contenteditable="true">${fileName.replace(/\.pdf$/, '')}</td>
            <td contenteditable="true">Pro. Adam Sani</td>
            <td contenteditable="true">Biology</td>
            <td>${getFileIcon(fileName)}</td>`;
          break;
        case 'external_lecture':
          columns = `
            <td contenteditable="true">${fileName.replace(/\.pdf$/, '')}</td>
            <td contenteditable="true">Prof. Yahuza Bello</td>
            <td contenteditable="true">Mathematics</td>
            <td>${getFileIcon(fileName)}</td>`;
          break;
        case 'research':
          columns = `
            <td contenteditable="true">${fileName.replace(/\.pdf$/, '')}</td>
            <td contenteditable="true">John Doe</td>
            <td contenteditable="true">Dr. Smith</td>
            <td contenteditable="true">Science</td>
            <td>${getFileIcon(fileName)}</td>`;
          break;
        case 'community':
          columns = `
            <td contenteditable="true">${fileName.replace(/\.pdf$/, '')}</td>
            <td contenteditable="true">Community User</td>
            <td contenteditable="true">General</td>
            <td>${getFileIcon(fileName)}</td>`;
          break;
        default:
          columns = `<td>${fileName}</td><td>${file.lastModified}</td><td>${file.size}</td>`;
      }

      row.innerHTML = `
        <td><input type="checkbox" class="select-row"></td>
        ${columns}
        <td class="actions">
          <button class="btn-edit" onclick="editRecord(this)">Edit</button>
          <button class="btn-delete" onclick="deleteRecord(this, '${file.key}')">Delete</button>
        </td>
      `;
      tbody.appendChild(row);
    });
  }
  

  // Load all sections
 // Load all sections
 
fetchS3Files(CONFIG.folderPaths.user, files => populateTable('user-table', files, 'user'));
fetchS3Files(CONFIG.folderPaths.ebook, files => populateTable('ebook-table', files, 'ebook'));
fetchS3Files(CONFIG.folderPaths.journal, files => populateTable('journal-table', files, 'journal'));
fetchS3Files(CONFIG.folderPaths.projects, files => populateTable('project-table', files, 'project'));
fetchS3Files(CONFIG.folderPaths.internal_lectures, files => populateTable('internal-lecture-table', files, 'internal_lecture'));
fetchS3Files(CONFIG.folderPaths.external_lectures, files => populateTable('external-lecture-table', files, 'external_lecture'));
fetchS3Files(CONFIG.folderPaths.research, files => populateTable('research-table', files, 'research'));
fetchS3Files(CONFIG.folderPaths.community, files => populateTable('community-table', files, 'community'));

  // Edit Record: Log changes (you can implement backend update)
  window.editRecord = function(button) {
    const row = button.closest("tr");
    const cells = row.querySelectorAll("[contenteditable='true']");
    const values = Array.from(cells).map(cell => cell.innerText.trim());
    console.log("Edited values:", values);
    alert("Values logged to console. Implement API call to update.");
  };

  // Delete Record from S3
  window.deleteRecord = function(button, key) {
    const row = button.closest("tr");
    const fileName = key.split("/").pop();

    if (confirm(`Are you sure you want to delete ${fileName}?`)) {
      const params = { Bucket: CONFIG.bucketName, Key: key };
      S3.deleteObject(params, function(err, data) {
        if (err) {
          console.error("Error deleting file:", err);
          alert("Failed to delete file.");
        } else {
          row.remove();
          alert("File deleted successfully.");
        }
      });
    }
  };

  // Save All Edits
  window.saveChanges = function() {
    const allRows = document.querySelectorAll("tbody tr");
    const updatedData = [];

    allRows.forEach(row => {
      const editableCells = row.querySelectorAll("[contenteditable='true']");
      const values = Array.from(editableCells).map(cell => cell.innerText.trim());
      if (values.length > 0) updatedData.push(values);
    });

    console.log("Saving updates...", updatedData);
    alert("Implement API endpoint to save these changes.");
  };

  // Select All Rows
  window.toggleAll = function(checkbox) {
    document.querySelectorAll('.select-row').forEach(cb => cb.checked = checkbox.checked);
  };

  // Filter Table by Search Query
  window.filterTable = function(tableId, query) {
       const table = document.getElementById(tableId);
    const rows = table.tBodies[0].rows;

    for (let i = 0; i < rows.length; i++) {
      const row = rows[i];
      const cells = row.getElementsByTagName("td");
      let match = false;

      for (let j = 1; j < cells.length - 1; j++) {
        if (cells[j]?.innerText?.toLowerCase().includes(query.toLowerCase())) {
          match = true;
          break;
        }
      }
      row.style.display = match ? "" : "none";
    }
  };
</script>

<!-- Script for Table Interactions -->
<script>
  function toggleAll(checkbox) {
    document.querySelectorAll('.select-row').forEach(cb => cb.checked = checkbox.checked);
  }

  function saveChanges() {
    alert("Changes saved locally. Implement backend update logic.");
  }

  // Modify the populateTable function to handle long text
function truncateText(text, maxLength = 50) {
  if (text.length > maxLength) {
    return text.substring(0, maxLength) + '...';
  }
  return text;
}

// Then update the columns in your populateTable function like this:
columns = `
  <td contenteditable="true" title="${fileName.replace(/\.pdf$/, '')}">
    ${truncateText(fileName.replace(/\.pdf$/, ''))}
  </td>
  <td contenteditable="true">${truncateText("Dr. Amina Yusuf")}</td>
  <td contenteditable="true">${truncateText("Vol. 5, Issue 2")}</td>
  <td>${truncateText(file.lastModified)}</td>`;

  function filterTable(tableId, query) {
    const table = document.getElementById(tableId);
    const rows = table.tBodies[0].rows;
    for (let i = 0; i < rows.length; i++) {
      const row = rows[i];
      const cells = row.getElementsByTagName("td");
      let match = false;
      for (let j = 1; j < cells.length - 1; j++) {
        if (cells[j].innerText.toLowerCase().includes(query.toLowerCase())) {
          match = true;
          break;
        }
      }
      row.style.display = match ? "" : "none";
    }
  }
</script>

<!-- Show/Hide Sections -->
<script>
  function toggleDropdown(el) {
    // Close other dropdowns
    document.querySelectorAll('.dropdown').forEach(dropdown => {
      if (dropdown !== el) dropdown.classList.remove('open');
    });
    // Toggle current dropdown
    el.classList.toggle('open');
  }

  function showSection(sectionId) {
    // Hide all content sections
    document.querySelectorAll('.content > div').forEach(section => {
      section.classList.add('hidden');
      section.classList.remove('active-section');
    });

    // Show selected section
    const section = document.getElementById(sectionId);
    if (section) {
      section.classList.remove('hidden');
      section.classList.add('active-section');
      
      // Initialize analytics charts when the section is shown
      if (sectionId === 'analytics-login' || sectionId === 'analytics-signup' || sectionId === 'analytics-visits') {
        initAnalyticsCharts();
      }
    }

    // Close all dropdowns after selecting a section
    document.querySelectorAll('.dropdown').forEach(dropdown => {
      dropdown.classList.remove('open');
    });
  }

  // Close dropdowns when clicking outside
  document.addEventListener('click', function(event) {
    const isInsideDropdown = event.target.closest('.dropdown');

    if (!isInsideDropdown) {
      document.querySelectorAll('.dropdown').forEach(dropdown => {
        dropdown.classList.remove('open');
      });
    }
  });

  // Initialize dashboard on load
  document.addEventListener('DOMContentLoaded', function() {
    showSection('dashboard');
    const quickUploadForm = document.getElementById('quick-upload-form');
    if (quickUploadForm) {
      quickUploadForm.addEventListener('submit', function(e) {
        submitForm(e, 'quick upload');
      });
    }
  });
</script>
<script>
  document.addEventListener('copy', (e) => e.preventDefault());
  document.addEventListener('cut', (e) => e.preventDefault());
</script>
<script>
  // Disable right click
  document.addEventListener('contextmenu', function (e) {
    e.preventDefault();
  });

  // Disable text selection
  document.addEventListener('selectstart', function (e) {
    e.preventDefault();
  });

  // Disable dragging (images, links)
  document.addEventListener('dragstart', function (e) {
    e.preventDefault();
  });

  // Disable Ctrl + U / Ctrl + S / F12 / Ctrl+Shift+I
  document.addEventListener('keydown', function (e) {
    if (
      (e.ctrlKey && (e.key === 'u' || e.key === 's' || e.key === 'a')) || // Ctrl+U, Ctrl+S, Ctrl+A
      (e.key === 'F12') || // F12
      (e.ctrlKey && e.shiftKey && (e.key === 'I' || e.key === 'J' || e.key === 'C')) // DevTools
    ) {
      e.preventDefault();
    }
  });
  function toggleDropdown(el) {
    // If clicking a link that has an href, let it navigate
    if (event.target.tagName === 'A' && event.target.hasAttribute('href') && 
        !event.target.getAttribute('href').startsWith('#')) {
        return; // Allow default navigation
    }
    
    // Rest of your dropdown toggle code...
}
</script>

</body>
</html>